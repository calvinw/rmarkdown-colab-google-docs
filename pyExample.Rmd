---
title: "Python Example"
jupyter:
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---
```{r include=FALSE}
library("reticulate")
# This is needed to use matplotlib in reticulated python  
matplotlib <- import("matplotlib", convert = TRUE)
matplotlib$use("agg", warn = FALSE, force = TRUE)
```

```{python eval=FALSE}
%matplotlib inline
```

This illustrates how to generate python notebooks (for colab) from rmarkdown files.

```{python}
import matplotlib.pyplot as plt
plt.plot([3,4,3,5,7,4,3,2,3,4],[16,9,12,3,4,3,5,7,4,3], 'o')
plt.show()
```

Lets compute a z-score:
```{python}
x = 521 
y = 32
mu = 4
sigma = 7
numerator = x-mu
z = numerator/sigma
print(z)
```

Here is some inline code evaluations: x = `r py$x` and y = `r py$y` below:

These are possible using R evaluation but reticulate gives us access in the R session to the python variables. I wish this could be done like this:

x = `python x` and y = `python y`, maybe in the future. Colab does not support inline code evaluation as far as I can tell.

Finally here is some display LaTeX with inline code evaluation. 

$$
z = \frac{x-\mu}{\sigma} 
  = \frac{`r py$x`-`r py$mu`}{`r py$sigma`} 
  = \frac{`r py$numerator`}{`r py$sigma`} 
  = `r py$z`
$$
